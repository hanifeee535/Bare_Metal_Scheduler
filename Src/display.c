

#include <stdint.h>
#include "../Drivers/stm32f103Driver.h"
#include "config.h"
#include "../Drivers/lcd_image.h"

uint8_t current_menu_index = 1;


unsigned char oled_buffer [8][128]; 
const unsigned short logo_rows = 9;
const unsigned short logo_cols = 128;
const unsigned char logo[] = {
0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,
0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x7f,0x7f,0x3f,0x3f,0x1f,0x9f,0x9f,0x8f,0xcf,0xcf,0xc7,0xe7,0xe7,0xe7,0xe7,0xf3,0xf3,0xf3,0x73,0x73,0x33,0xf3,0xf3,0xf1,0xf9,0xf9,0xf9,0xff,0xfb,0xf9,0xf9,0xf3,0xf3,0xf3,0xf3,0x73,0x73,0xf3,0xf3,0xf3,0xe7,0xe7,0xe7,0xe7,0xc7,0xcf,0xcf,0x8f,0x9f,0x9f,0x1f,0x3f,0x3f,0x7f,0x7f,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x3f,0x1f,0xf,0x87,0xc3,0xe3,0xb1,0x18,0x58,0x5c,0x1e,0xbe,0xff,0xb3,0x63,0xeb,0xcb,0xb3,0xbf,0x7c,0x7f,0xff,0xff,0xff,0xc3,0x81,0x0,0x0,0x0,0x0,0xf,0x1f,0x1f,0x1f,0x3f,0x3f,0x3f,0x3f,0x3f,0x3f,0x1f,0x1f,0xf,0xf,0x0,0x80,0x80,0xc1,0xff,0xff,0xff,0xff,0x7f,0x7c,0xbf,0xb3,0xcb,0xeb,0x6b,0x73,0xff,0xfe,0x9e,0x1c,0xd8,0x58,0xb1,0xe1,0xc3,0x87,0xf,0x1f,0x3f,0x7f,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xf1,0xf0,0xf0,0xf8,0xde,0xdf,0xdf,0xd3,0xf5,0xf5,0xf1,0xf3,0xff,0xee,0xcc,0xdd,0xbb,0xba,0xb6,0xa5,0xad,0xdb,0xfb,0xd6,0xf6,0xfd,0xfd,0xfb,0xf3,0xf7,0xfe,0xfe,0xf2,0x4,0x4,0x4,0xe4,0xf4,0x14,0x14,0xf4,0xe4,0x6,0xf6,0xfe,0xff,0xff,0xe7,0xf7,0xfb,0xff,0xf5,0xf6,0xf6,0xf7,0xfb,0xe9,0xed,0xf6,0xfa,0xfb,0xfd,0xfd,0xfe,0xfe,0xfb,0xf1,0xfd,0xfd,0xf3,0xff,0xff,0xff,0xfc,0xf0,0xf0,0xf1,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xf9,0xe1,0xc1,0x83,0xf,0x1f,0x3f,0x73,0xb5,0x9d,0x51,0x5b,0x9f,0xef,0xef,0xb7,0xd7,0xfb,0x6f,0xf5,0xb6,0xdb,0xdb,0xed,0xed,0x37,0xd7,0xdb,0xeb,0xed,0xf7,0xff,0xff,0x0,0x0,0x0,0xff,0xff,0x0,0x0,0xff,0xff,0x0,0xff,0xff,0xff,0xff,0xf5,0xef,0xeb,0xdf,0xb7,0x3f,0xed,0xff,0xdb,0xf6,0xb4,0x6d,0xeb,0xdb,0xf7,0xff,0xef,0x9f,0xdb,0xf3,0x9d,0xbd,0xf3,0x7f,0x1f,0xf,0x3,0x81,0xe1,0xf9,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xfe,0xfc,0xf8,0xf8,0xf1,0xe3,0xe3,0xc7,0xc7,0xcf,0x89,0x98,0x9e,0x1a,0x38,0x3f,0x3f,0x7f,0x7f,0x7d,0x6c,0xe7,0xef,0xff,0xff,0xff,0xff,0xff,0x0,0x0,0x80,0xff,0xff,0x0,0x0,0xff,0xff,0x0,0xff,0xff,0xff,0xff,0xff,0xff,0xef,0xef,0xed,0x7c,0x7f,0x7f,0x7f,0x3f,0x39,0x3a,0x1e,0x9a,0x8d,0x8f,0xcf,0xc7,0xe3,0xe3,0xf1,0xf0,0xf8,0xfc,0xfe,0xfe,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xf,0xf,0xf,0xff,0xff,0x7f,0xf,0xf,0x1f,0xff,0xff,0xf,0xf,0xf,0x1f,0x3f,0x7f,0xff,0xff,0xff,0x7f,0x3f,0x1f,0xe,0xe,0xe,0xfe,0xfe,0xfc,0xc,0xc,0x1c,0xfc,0xfc,0xd,0xd,0x9,0x19,0x19,0x39,0x7f,0x7f,0xf9,0xf9,0x9,0x9,0xd,0xfd,0xfc,0x3c,0x1c,0x1c,0x9c,0xcc,0xce,0xce,0xce,0xce,0xcf,0x9f,0x1f,0x3f,0x7f,0xef,0x8f,0xf,0x1f,0x3f,0x7f,0xff,0xff,0xff,0x7f,0x3f,0x1f,0x8f,0xcf,0xef,0xff,0x7f,0x3f,0x1f,0x8f,0x8f,0x1f,0x3f,0x7f,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xfd,0xf9,0xf9,0xf3,0xf3,0xf3,0xf3,0xf8,0xf8,0xfc,0xff,0x9f,0xff,0x90,0xf0,0x9e,0x9f,0xff,0xf0,0xf0,0x98,0xff,0xfe,0xfe,0x9c,0xf8,0xf8,0xfc,0xfe,0x9f,0xb8,0xf0,0xf0,0x9f,0xff,0x9f,0xf0,0xf0,0xf8,0xff,0xbf,0xf8,0x90,0x90,0xff,0xff,0xff,0xfe,0x9c,0xfc,0xf8,0x98,0xf0,0xf8,0xff,0xff,0x9e,0x9c,0xf8,0xf9,0x9b,0xf3,0x93,0xf3,0xf3,0xb9,0xf9,0xf8,0x9c,0xfe,0xbf,0xff,0xff,0x9e,0xdc,0xf8,0x91,0xf1,0xb0,0x98,0xfc,0x9e,0xff,0x97,0xd1,0xb0,0x98,0xfc,0xfc,0xfd,0xfd,0xfc,0xfc,0xf8,0xf0,0xf1,0xf3,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff
};


 // Initialize the struct directly
    lcd_image_typedef logo_pic = {
        .height = logo_rows,
        .width = logo_cols,
        .x_position = 0,
        .y_position = 0,
        .image = {logo,0,0,0,0} // Initialize image[0], others are 0
    };


void oled_show_logo (){
    clear_oled_buffer ( oled_buffer );
	update_oled_buffer(&logo_pic, 0, oled_buffer);
	print_buffer(I2C_1, oled_buffer);	
    delay_miliSecond(3, 2000,system_freq);	
	oled_blank(I2C_1);    
	oled_send_message_8X8_font(I2C_1, "WELCOME", 2, 3, 8, NON_INVERTED);	
	delay_miliSecond(3, 2000,system_freq);	
}

void show_menu (){
	oled_send_message_8X8_font(I2C_1, "Select an Option", 1, 0, 0, INVERTED);
	oled_send_message_8X8_font(I2C_1, "1.Set Time",      1, 2, 16,   current_menu_index == 0 ? INVERTED : NON_INVERTED);
	oled_send_message_8X8_font(I2C_1, "2.Set Datte",     1, 3, 16,   current_menu_index == 1 ? INVERTED : NON_INVERTED);
	oled_send_message_8X8_font(I2C_1, "3.Set Alarm",     1, 4, 16,   current_menu_index == 2 ? INVERTED : NON_INVERTED);
    oled_send_message_8X8_font(I2C_1, "4. Stopwatch", 	 1, 5, 16,   current_menu_index == 3 ? INVERTED : NON_INVERTED);
	oled_send_message_8X8_font(I2C_1, "Select", 		 1, 7, 0,    current_menu_index == 4 ? INVERTED : NON_INVERTED);
	oled_send_message_8X8_font(I2C_1, "Back", 			 1, 7, 96,   current_menu_index == 0 ? INVERTED : NON_INVERTED);
	

}

void home_Screen (const char *time_str, const char *date_str){
    oled_send_message_8X8_font(I2C_1, time_str , 3, 3, 3,NON_INVERTED );
		oled_send_message_8X8_font(I2C_1, date_str , 1, 7, 30,NON_INVERTED );
    
}